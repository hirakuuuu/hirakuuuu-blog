---
title: "JMAC（麻雀AIコンペ）参加記"
excerpt: "サークル内の麻雀AIのコンペに参加したときの記録。"
date: "2023-04-04"
tags:
  - "機械学習"
  - "麻雀"
---

春休みにサークル内で開催された、麻雀 AI を作って戦わせるコンペの参加記です。
一応自分は運営側でもあったのですが、この記事は参加者目線で書いてます。

作ったものは GitHub に上げてあります。（コミットメッセージがひどいのは許してください）

- https://github.com/hirakuuuu/jmac_sdk

# 参加したきっかけ

サークル内で麻雀が地味に流行っているということで、麻雀 AI のコンペを先輩が企画してくれました。（JMAC という大会だったので、これ以降 JMAC と書きます。）

麻雀も機械学習もヌーブでしたが、当時自分の麻雀熱が謎に高かったので、これは参加するしかないと思い、参加しました。

# コンペの概要

- ルールベースでも機械学習でも完全ランダムでも OK，自動で麻雀を打つ AI を作る。
- クライアントが行動を決定する時に使える情報は，普通の麻雀と同じく
  - 自分の手牌
  - 全員の河
  - 全員のポン・チー・カンした牌
  - 残りツモ回数
  - ドラ表示牌
- 一発勝負部門と平均スコア部門があり、それぞれで勝者を決定する。
- 平均スコア部門のスコア計算は M リーグのルールに準拠。（いわゆるトップ取り）

# 開発環境

mjx という麻雀 AI のための python フレームワークを、Docker 上で使えるようにしたものが用意されていました。

- https://github.com/mjx-project/mjx

また、機械学習用のデータは、天鳳のログを mjx で使えるように変換したもの（約 75000 半荘分）が用意されていました。
このデータは中々容量が大きかったので、ファイルを分割して保存する等の工夫が必要でした。

# やったこと

とりあえず、最初は機械学習で mjx 上で戦えるエージェントを作る方法を調べました。

- [麻雀の強化学習環境 Mjx(v0.1.0)を触る（2/3）教師あり学習編](https://note.com/oshizo/n/n4eae69dbeb23)

- [天鳳の牌譜を学習して Mjx(v0.1.0)で使える Agent を作る](https://note.com/oshizo/n/n61441adc340c)

この記事を読んで、学習の進め方や戦わせ方のイメージが付いたので助かりました。

## 最初のモデル

そこまで凝ったモデルにしなくても、そこそこのルールベースには勝てそうだと思ったので、まずは、簡単なモデルを作ってみることにしました。

![1つ目のモデル](/assets/blog/jmac-2023-spring/model1.png)
_1 つ目のモデル_

隠れ層のサイズとかは特に考慮せずに、とりあえず全部のデータを使って学習させました。

エポック数は、最終的なモデルができてから回数を増やそうと思っていたので、とりあえず 1 周だけでやりました。

学習したモデルと天鳳のログとの一致率は 56~57%ほどでした。

正直これが高いのか低いのか分かりませんが、ルールベースより少し強いくらいの雀力にはなりました。

## 畳み込みを使う

半年前くらいにこちらの記事を参考に機械学習の勉強をちょっとだけしてました。

- [作って試そう！　ディープラーニング工作室](https://atmarkit.itmedia.co.jp/ait/series/18508/)

そのときに使った CNN（畳み込みニューラルネットワーク）について少し学んだので、それを使ってみることにしました。

### 畳み込みとは

畳み込みは、画像データなどを扱う機械学習の手法の一つです。

元データに何らかの特徴を表すフィルタ（カーネル）を適用することで、その特徴を凝縮できます。

![畳み込みのイメージ](/assets/blog/jmac-2023-spring/convolution.png)

例えば、横方向のエッジを検出するカーネルを使うことで、画像の上の方に横方向のエッジの特徴が現れていることを検出することができています。

なんとなくのイメージですが、牌の横並びとか重なりの情報は畳み込みでより強調されるかなと思いました。

実際、Suphx という Microsoft の最強麻雀 AI の論文にも、畳み込みが使われていたので、有効な手法ではあるのだと思います。

- [Suphx: Mastering Mahjong with Deep Reinforcement Learning](https://arxiv.org/abs/2003.13590)

Suphx では畳み込み層を 50 層ほど重ねていましたが、とりあえず 1 層から試しました。
![2つ目のモデル](/assets/blog/jmac-2023-spring/model2.png)
_2 つ目のモデル_

学習したモデルと天鳳のログとの一致率は 65%ほどまで上昇しました。

また、実際に打っている様子を見ても、基本的な打牌選択は間違えないようになりました。

- [対局の様子](<https://tenhou.net/5/#json={"title":["",""],"name":["player_3","player_2","player_1","player_0"],"rule":{"disp":"","aka":1},"log":[[[0,0,0],[25000,25000,25000,25000],[32,33],[],[35,47,25,46,36,47,13,44,21,45,38,38,34],[26,24,"4747p47",38,31,37,31],[46,44,13,45,21,34],[18,29,19,28,15,33,39,13,39,47,36,23,23],[18,18,15,"3939p39",16,"18m181818",21,43,35],[36,47,33,13,60,0,23,60,60],[33,45,23,53,12,19,47,46,39,29,13,16,17],[42,11,"c131112",43,19,25,"1919p19",21],[16,39,42,47,23,45,43,25],[37,44,32,46,41,11,38,12,44,14,36,43,43],[41,18,14,13,19,28,16],[11,46,18,32,60,60,44],["和了",[2100,-700,-700,-700],[0,0,0,"1飜40符2100点","役牌 中(1飜)"]]],[[0,1,0],[27100,24300,24300,24300],[26,42],[35,42],[25,47,29,34,19,34,21,29,18,29,11,28,52],[23,"292929m29",39,26,36,33,11,38,"c275226",12,41,24,35,"c333435",44,16,32,18,45],[47,0,28,25,39,60,21,19,23,11,18,60,41,11,34,12,60,16,18],[37,44,29,37,31,33,33,42,41,17,51,16,21],[34,43,17,39,"p333333",32,53,13,44,"c181617",36,17,32,"c345336",22,28,38],[29,41,60,43,39,42,44,21,60,31,32,13,60,17,34,51,60],[22,14,24,27,39,14,19,36,28,38,14,13,37],[46,25,42,"c393738",45,47,23,21,18,32,15,24,24,43,22,15],[60,36,13,42,25,45,39,47,60,19,24,15,32,60,22,60],[41,43,27,19,11,14,23,31,47,27,46,16,31],[17,33,46,46,15,26,19,45,45,43,25,11,31,13,34,27],[43,11,23,41,47,27,60,60,60,60,33,"r11",60,60,60,60],["和了",[-5500,0,0,6500],[3,0,3,"3飜40符5200点","立直(1飜)","役牌 發(1飜)","ドラ(1飜)"]]],[[1,0,0],[21600,24300,24300,29800],[41],[14],[21,19,22,36,29,28,33,44,35,33,46,11,33],[19,38,35,47,"c343536",19,25,17],[44,35,38,46,47,22,11,60],[32,16,14,41,23,53,47,46,34,15,27,21,41],[36,18,"c353436",44,24,26,"c222123",45],[27,60,32,46,60,47,26,44],[18,28,38,51,26,38,23,12,12,13,13,47,39],["c272628",29,37,"3838p38",22,"c242223",39,31,43],[39,47,12,37,51,18,12,29,31],[13,11,18,12,25,23,38,26,39,17,32,16,16],[22,43,24,15,52,34,46,26,28],[32,60,38,39,"r26",60,60,60,60],["和了",[-7700,0,0,8700],[3,0,3,"4飜30符7700点","立直(1飜)","平和(1飜)","裏ドラ(1飜)","赤ドラ(1飜)"]]],[[2,0,0],[13900,24300,24300,37500],[11],[],[29,27,26,12,31,16,12,39,39,23,19,47,32],[28,14,29,11,46,34,43,"3939p39",34,"c292728"],[47,26,60,19,60,60,23,43,31,11],[44,43,45,35,33,32,47,21,24,47,42,18,31],["p474747",31,13,12,28,"c343335",39,42,"p313131"],[45,43,18,24,21,44,60,32,28],[16,27,21,26,32,28,22,24,53,17,11,44,45],[33,27,33,"c181617",19,41,47,37,"c282627"],[44,11,45,53,32,19,60,21,41],[28,36,42,41,13,43,17,45,46,13,38,19,16],[36,29,38,24,21,22,41,32,18],[41,43,45,42,60,46,60,60,29],["和了",[-2000,2000,0,0],[1,0,1,"2飜30符2000点","役牌 中(1飜)","ドラ(1飜)"]]],[[3,0,0],[11900,26300,24300,37500],[53],[],[27,46,31,27,16,34,24,38,44,37,14,34,51],[44,22,36,35,"27p2727",31,45,41,"c383637",29,28,19,16],[31,46,44,44,38,60,60,60,22,35,24,60,60],[21,13,14,45,34,33,11,43,33,26,22,22,45],[32,"33p3333",28,52,32,13,"p454545",24,17,25,"c245226",18,33],[21,43,60,14,22,11,22,32,60,60,32,60,"33k333333"],[14,47,44,12,34,39,32,47,47,13,38,12,38],[16,27,17,"c141213",45,"38p3838",27,23,23,15,24,18,31],[60,12,39,44,27,17,14,45,27,60,60,60,60],[43,36,21,37,42,29,15,19,19,18,38,42,46],[22,33,43,37,29,41,25,17,35,41,26,15,14],[29,60,46,60,60,60,60,19,38,60,21,22,43],["和了",[0,-2600,2600,0],[2,1,2,"2飜40符2600点","槍槓(1飜)","役牌 中(1飜)"]]],[[4,0,0],[11900,23700,26900,37500],[34,15],[],[43,38,15,25,46,39,46,17,38,11,11,46,26],[32,11,21,42,22,28,"46m464646",18,14,"3838p38",31,21,33],[39,32,60,43,42,25,0,22,18,14,26,28,31],[42,26,23,52,47,17,38,27,53,25,28,47,24],[12,18,41,23,"p255225","4747p47","c222324",19,17,"c262728",41,13],[17,53,18,41,42,23,12,38,19,17,60,60],[39,35,32,19,45,42,12,23,29,36,34,22,26],[32,"32p3232","c533436",47,46,33,41,12,24,35,21,33],[39,19,45,12,26,47,46,29,12,35,24,33],[16,32,16,21,37,28,37,28,31,13,18,18,45],[43,25,31,14,29,13,33,14,36,26],[60,21,13,32,60,45,60,"r13",60,60],["和了",[0,8700,0,-7700],[1,3,1,"4飜30符7700点","役牌 中(1飜)","混一色(2飜)","赤ドラ(1飜)"]]],[[5,0,0],[11900,32400,26900,28800],[17],[32],[15,44,17,37,33,19,27,21,34,45,18,14,26],[33,32,51,29,41,"c181719",16,"c131451",39],[45,33,15,44,26,41,21,37,29],[37,18,42,36,22,34,38,16,41,21,31,28,16],[38,23,43,41,31,24,23,"c212223","c373638",35],[38,41,28,43,41,34,42,18,21,24],[53,36,12,11,28,22,27,26,46,45,39,24,39],[19,37,"c282627",14,42,"c345336",46,25,39],[46,19,45,11,28,42,60,22,14],[29,45,17,21,17,26,13,25,27,34,47,52,14],[42,18,32,12,33,11,23,13,22],[21,29,45,47,42,18,"r11",60,60],["和了",[0,-8000,0,9000],[3,1,3,"満貫8000点","立直(1飜)","断幺九(1飜)","裏ドラ(1飜)","赤ドラ(1飜)"]]],[[6,0,0],[11900,24400,26900,36800],[38,17],[],[15,38,11,43,34,33,13,39,17,39,41,16,14],[22,"c181617","c121113",37,28,17,21,21],[38,41,22,43,37,28,17,39],[41,21,44,52,28,43,26,36,26,47,22,35,23],[35,24,"c222324",38,11,44,47,19],[36,43,47,60,44,60,60,11],[43,16,45,32,46,18,12,33,34,46,34,11,16],[42,"4646p46",36,34,22,46,24,24,14,17,19],[43,42,45,34,60,"4646k4646",60,60,11,36,34],[46,47,14,18,19,31,25,12,37,23,33,27,13],[28,35,27,12,23,47,11,18,13,32],[46,47,18,60,19,60,37,11,18,13],["和了",[0,0,3900,-3900],[2,3,2,"2飜40符3900点","役牌 發(1飜)","ドラ(1飜)"]]],[[6,1,0],[11900,24400,30800,32900],[11,36,25],[],[46,31,31,13,15,11,16,38,24,36,21,39,23],[24,28,45,31,31,34,38,29,13,15,22,37,19,"c383637","c141315","3838p38",17,21,47,18],[16,11,46,28,"313131a31",21,34,23,13,15,45,22,29,39,19,24,24,60,17,47],[21,35,34,16,27,44,27,14,11,43,32,17,25],[43,13,28,"2727p27",38,19,41,"4343p43",29,44,"c151314",25,28,18,36,14,42,37,"c171819",18],[17,35,34,44,32,28,60,25,21,29,11,60,44,16,38,28,60,36,37,60],[47,19,42,17,41,13,46,12,39,12,51,26,21],[39,42,27,44,43,39,23,22,43,"c212223","4242p42",44,"c111213",47,35,23,"39p3939",37,34,27,26,16],[26,47,51,27,19,41,46,43,44,43,12,60,17,21,60,60,47,"39k393939",37,34,27,26],[14,32,23,33,26,47,14,18,52,35,34,26,16],[33,45,45,32,32,33,15,42,22,19,29,33,46,38,53,37,17,12,45],[47,60,60,23,33,60,18,60,60,60,60,60,60,60,14,60,60,60,60],["和了",[4200,-4200,0,0],[0,1,0,"2飜60符3900点","河底撈魚(1飜)","ドラ(1飜)"]]],[[7,0,0],[16100,20200,30800,32900],[39],[],[12,17,23,41,37,23,39,33,22,37,34,24,13],["37p3737",33,36,16,14,33,45,16,43,36],[41,34,39,23,36,60,60,17,60,60],[36,36,46,38,47,34,37,53,29,12,21,12,42],[44,"c345336","c393738",52,31,17,24,32,21,27],[21,46,44,60,29,47,17,42,60,60],[18,19,28,15,11,46,37,44,46,51,26,44,21],["4444p44",35,"p464646",22,13,43,26,"c171819",14,14],[37,21,35,11,60,22,60,43,60,60],[16,17,32,22,44,19,34,15,41,35,29,26,32],[27,47,33,24,41,25,45,39,46,45],[44,60,29,41,60,19,60,60,60,60],["和了",[0,-3900,3900,0],[2,1,2,"3飜30符3900点","自風 北(1飜)","役牌 發(1飜)","赤ドラ(1飜)"]]]]}>)

player0 が我が AI です。

## 最終提出まで

ここから、畳み込み層の数やエポック数を増やしていくことを考えました。

ただ、学習に時間が掛かりすぎたり、そこまで損失が下がらなかったりと、ほとんど改善せず、
結局、畳み込み層 4 層、エポック数 1 で学習させたものを提出しました。

![3つ目のモデル](/assets/blog/jmac-2023-spring/model3.png)
_3 つ目のモデル_

最終的な天鳳のログとの一致率は 67%ほどでした。

後は、面前で聴牌したら即リーチするようにしました。（どうせ降りれないので）

- [対局の様子](<https://tenhou.net/5/#json={%22title%22:[%22%22,%22%22],%22name%22:[%22player_0%22,%22player_1%22,%22player_2%22,%22player_3%22],%22rule%22:{%22disp%22:%22%22,%22aka%22:1},%22log%22:[[[0,0,0],[25000,25000,25000,25000],[38],[52],[47,17,12,26,32,29,28,14,45,12,21,39,38],[44,13,13,44,37,34,19,18,14,18,38],[60,21,45,60,47,29,60,32,34,%22r17%22,60],[35,34,12,13,14,33,32,45,31,36,19,16,39],[21,41,22,15,42,27,18,23,25,24,21],[45,39,19,41,15,42,16,%22r27%22,60,60,60],[45,26,12,11,42,24,19,42,46,53,41,16,11],[17,43,14,28,37,28,43,51,33,27,24],[19,24,26,45,46,53,14,37,12,16,27],[28,47,32,22,36,23,22,37,32,29,17,34,46],[43,29,31,33,44,18,47,25,15,16],[46,43,34,37,17,47,31,33,44,29],[%22%E5%92%8C%E4%BA%86%22,[14000,0,-12000,0],[0,2,0,%22%E6%BA%80%E8%B2%AB12000%E7%82%B9%22,%22%E7%AB%8B%E7%9B%B4(1%E9%A3%9C)%22,%22%E4%B8%80%E7%9B%83%E5%8F%A3(1%E9%A3%9C)%22,%22%E3%83%89%E3%83%A9(1%E9%A3%9C)%22,%22%E8%A3%8F%E3%83%89%E3%83%A9(1%E9%A3%9C)%22]]],[[0,1,0],[38000,24000,13000,25000],[38],[42],[42,47,41,33,32,18,38,24,43,33,19,41,29],[42,18,%22p424242%22,33,12,14,14,17,23,22,27,28,43,31,22],[29,43,38,47,60,60,60,18,32,41,60,60,60,60,41],[41,11,46,35,13,21,41,34,34,28,11,44,39],[16,35,17,36,28,45,23,45,21,37,44,34,21,15,19],[46,44,60,16,39,21,45,23,36,45,60,37,%22r34%22,60,60],[25,13,32,26,36,29,12,18,25,31,29,19,17],[27,46,23,34,14,36,26,28,16,53,39,37,16,17,26],[36,25,46,23,%22r31%22,60,60,60,60,60,60,60,60,60,60],[12,13,46,22,26,44,39,42,11,11,31,43,39],[24,45,52,31,32,38,36,45,51,35,47,25,33,27,37],[46,42,43,44,60,60,11,22,36,51,35,47,25,24,33],[%22%E5%92%8C%E4%BA%86%22,[0,0,3600,-1600],[2,3,2,%221%E9%A3%9C40%E7%AC%A61300%E7%82%B9%22,%22%E7%AB%8B%E7%9B%B4(1%E9%A3%9C)%22]]],[[1,0,0],[38000,23000,15600,23400],[42],[],[12,39,36,15,28,13,35,17,47,37,16,36,25],[22,12,31,34,29,46,25,%22c141213%22],[47,39,60,28,60,60,22,12],[22,14,28,24,15,45,19,38,37,21,38,31,19],[38,51,11,29,19,45,27,53,33],[24,14,28,31,29,37,11,60,60],[23,39,41,24,11,42,19,41,46,45,46,37,42],[26,39,11,47,28,17,26,35,18],[45,26,19,23,47,28,24,37,35],[27,44,36,35,17,33,32,36,42,44,16,15,25],[18,33,28,41,33,37,21,14],[36,15,60,60,42,%22r32%22,60,60],[%22%E5%92%8C%E4%BA%86%22,[2000,0,-1000,0],[0,2,0,%221%E9%A3%9C30%E7%AC%A61000%E7%82%B9%22,%22%E6%96%AD%E5%B9%BA%E4%B9%9D(1%E9%A3%9C)%22]]],[[2,0,0],[40000,23000,14600,22400],[36],[],[16,39,35,14,28,26,19,28,43,11,13,31,52],[27,44,39,38,24,29,33,33,13,16,21,16,22,27,42,29,31],[43,60,31,19,11,60,16,38,60,60,60,60,60,39,39,42,60],[47,34,47,28,24,23,46,41,34,45,14,38,37],[28,13,46,39,13,12,41,23,47,36,27,26,17,22,34,44,32],[14,41,24,23,45,39,60,38,12,37,36,47,23,27,60,60,22],[15,42,29,26,21,31,15,14,37,42,18,46,47],[44,32,38,51,25,35,32,26,14,16,23,29,17,11,33,36,11,25],[14,18,21,47,46,60,29,38,51,44,25,60,60,37,11,15,23,36],[23,33,37,42,12,17,18,25,22,22,38,39,21],[19,17,24,27,36,37,35,18,12,19,21,41,45,12,41,53,45,32],[12,42,25,33,17,37,22,27,18,19,%22r12%22,60,60,60,60,60,60,60],[%22%E6%B5%81%E5%B1%80%22,[-1000,-1000,-1000,3000]]],[[3,1,1],[39000,22000,13600,24400],[43],[43],[13,47,26,46,13,25,28,25,42,36,33,34,35],[19,17,27,22,16,37,31,42,47,15,22,38,36,39,17],[60,60,42,60,47,46,60,60,60,13,60,%22r13%22,60,60],[22,53,18,51,29,13,16,32,34,38,12,35,44],[32,34,24,27,29,13,31,45,46,14,23,16,42,32],[16,13,12,38,22,18,27,51,24,46,44,13,60,14],[32,14,29,39,33,52,14,22,19,26,24,28,28],[11,37,27,45,41,43,44,11,15,11,12,21,33,31],[29,19,33,32,60,45,43,11,44,14,37,39,12,52],[41,45,19,44,38,23,28,24,36,26,15,39,16],[27,33,18,11,17,29,31,36,35,18,46,46,23,21,41],[45,39,44,41,33,36,26,19,31,11,38,46,24,46,21],[%22%E5%92%8C%E4%BA%86%22,[7500,-1400,-1400,-2700],[0,0,0,%224%E9%A3%9C20%E7%AC%A65200%E7%82%B9%22,%22%E9%96%80%E5%89%8D%E6%B8%85%E8%87%AA%E6%91%B8%E5%92%8C(1%E9%A3%9C)%22,%22%E7%AB%8B%E7%9B%B4(1%E9%A3%9C)%22,%22%E5%B9%B3%E5%92%8C(1%E9%A3%9C)%22,%22%E6%96%AD%E5%B9%BA%E4%B9%9D(1%E9%A3%9C)%22]]],[[4,0,0],[45500,20600,12200,21700],[29],[41],[41,42,38,33,14,24,21,19,33,42,29,46,46],[11,33,16,11,44,19,37,47,19,15,28,43,17,53,37,32,46],[60,21,41,60,60,24,60,60,38,%22r29%22,60,60,60,60,60,60],[21,31,18,14,42,22,26,32,22,23,18,37,24],[34,43,29,13,23,13,12,17,25,31,25,32,14,12,38,22],[60,42,37,43,29,26,%22r13%22,60,60,60,60,60,60,60,60,60],[45,47,32,36,19,27,13,23,44,31,45,11,44],[35,33,18,16,34,28,16,24,13,21,47,36,36,38,43,47],[19,23,60,60,47,60,60,27,24,11,21,47,31,35,38,60],[35,12,31,44,25,14,39,27,28,12,46,26,28],[23,35,43,39,26,11,39,36,15,15,41,52,41,37,27,16],[35,44,31,23,27,14,43,11,35,36,60,%22r39%22,60,60,60,60],[%22%E5%92%8C%E4%BA%86%22,[21000,-6000,-6000,-6000],[0,0,0,%22%E8%B7%B3%E6%BA%8018000%E7%82%B9%22,%22%E9%96%80%E5%89%8D%E6%B8%85%E8%87%AA%E6%91%B8%E5%92%8C(1%E9%A3%9C)%22,%22%E7%AB%8B%E7%9B%B4(1%E9%A3%9C)%22,%22%E5%BD%B9%E7%89%8C%20%E7%99%BC(1%E9%A3%9C)%22,%22%E4%B8%89%E6%9A%97%E5%88%BB(2%E9%A3%9C)%22,%22%E8%A3%8F%E3%83%89%E3%83%A9(2%E9%A3%9C)%22]]],[[4,1,0],[65500,13600,6200,14700],[45],[35],[26,17,19,23,29,16,45,25,33,19,14,17,34],[18,26,31,23,28,28,33,28,31,33,13,31,17],[45,29,60,60,60,60,23,60,60,34,19,60,60],[38,24,51,38,37,26,43,42,36,24,19,37,27],[33,15,29,38,19,12,27,11,43,22,25,44,26],[36,43,42,38,29,33,%22r26%22,60,60,60,60,60,60],[21,18,27,45,12,17,14,44,29,46,35,12,31],[41,29,12,46,43,44,39,41,32,52,46,18,23],[14,31,27,44,45,35,17,44,60,43,60,52,12],[21,47,13,32,41,14,35,22,16,13,25,39,47],[41,46,44,42,11,11,43,24,14,36,27,15],[32,16,21,44,35,22,42,46,39,24,43,25],[%22%E5%92%8C%E4%BA%86%22,[0,7700,-6700,0],[1,2,1,%224%E9%A3%9C25%E7%AC%A66400%E7%82%B9%22,%22%E7%AB%8B%E7%9B%B4(1%E9%A3%9C)%22,%22%E4%B8%83%E5%AF%BE%E5%AD%90(2%E9%A3%9C)%22,%22%E8%B5%A4%E3%83%89%E3%83%A9(1%E9%A3%9C)%22]]]]}>)

ここまでで作ったものを提出して開発期間は終わりました。

# 結果

全体の参加者は 8 人で、ルールベース 4 人、機械学習 4 人と良い感じにばらけていました。

中には、ルールベースで 2000 行のコードを書いている猛者もいました。

そして、肝心の結果は、

- 一発勝負部門：1 位（やったぜ）
- 総当たり部門 ：3 位（70 戦、+423.9pt）

でした。

一発勝負部門は、麻雀強い人たちの実況解説を聞きながら観戦していたのですが、どの AI も人間と遜色ない打ちすじだったので、見応えがありました。

総当たり部門は、1 位が+1100pt まで盛ってたので、完敗だったなあという感じです。

# 感想

機械学習はほんの少し勉強した程度で、コンペの参加経験もありませんでしたが、開発基盤や手順がしっかりしていたので、楽しく参加できました。

特に、メモリの節約やモデルの設計など、座学ではあまり身につかない部分で勉強になることがたくさんありました。

企画していただいた先輩や、運営、参加者の皆々様に感謝します。

また、夏にも開催される（かも）らしいので、それまでに麻雀も機械学習も勉強しようと思います。

あと、次回の自分に向けて、ちゃんとログを残しておかないとこういう参加記を書くとき苦労するから気をつけよう。
